# 工厂模式进阶

## 1、工厂方法模式和抽象工厂模式的区别

这里为什么只介绍工厂方法模式和抽象工厂模式的区别？为什么不把简单工厂模式、静态工厂模式也放在一起比较呢？

- 首先，静态工厂模式也是简单工厂模式的一种，仅仅是方法被定义成静态方法与否以及使用时是否直接通过类调用方法的区别
- 其次，简单工厂模式过于简单，相对比较容易理解，个人觉得没必要再拿出来与稍复杂的工厂方法模式、抽象工厂模式进行比较讲解
- 另外，简单工厂模式不符合`单一职责原则`，一度怀疑是否应该放在设计模式中进行讲解
- 最后，因为很多讲解 23 种设计模式的教程中并没有包括`简单工厂模式`，而只有`工厂方法模式`和`抽象工厂模式`

无论怎样，这里只讲工厂方法模式和抽象工厂模式的区别 :laughing:

要想搞清楚工厂方法模式和抽象工厂模式的区别，首先需要了解一个概念：<mark><u>***产品族！！！***</u></mark>

首先看下，各大搜索引擎对这一概念的相关诠释（这里剔除了其他相关性较弱或无关的解释，只贴出相关性较强的内容）

> 百度百科/搜狗百科/360搜索：产品分族,也叫成组技术.一个公司的产品从市场的角度来看,也许成千上万,但是,如果从流程的角度出发,一 般都能被分为几大类,分类的依据一般是关键的机器设备,这样的类别,就是产品族.以关键设备为依据,对生产流程进行分类的过程就是产品分族

![img](https://s2.loli.net/2022/01/21/dW8C2SyfwohpEAF.jpg)

不要灰心，官方的不行，找找技术贴

> 不同产品等级结构的一组产品组成产品族[^1]
>
> 产品族是指由同一个工厂生产的，位于不同产品等级结构中的一组产品[^2]

到这里，概念已经很清楚了：<mark>不同产品等级结构的一组产品</mark>

那什么又是产品等级结构呢？<mark>产品等级结构即产品的继承结构</mark>

`产品族`与`产品等级结构`的关系图如下

图一[^1]

![img](https://s2.loli.net/2022/01/21/G7vqi4rpDUwJYLh.jpg)

图二[^2]

![img](https://s2.loli.net/2022/01/21/lL2r4bDF98y5fNh.png)

有了对上述概念的形象理解，借鉴[抽象工厂模式-与-工厂方法模式区别_wyxhd2008的专栏-CSDN博客_工厂模式和抽象工厂模式的区别](https://blog.csdn.net/wyxhd2008/article/details/5597975)，总结内容如下表格，仅供参考

|        | 工厂方法模式                     | 抽象工厂模式                       |
| :----- | :------------------------------- | :--------------------------------- |
| 不同点 | 一个产品等级结构，产品分类单一   | 多个产品等级结构，产品分类多样     |
|        | 一个抽象工厂只生产一个抽象产品   | 一个抽象工厂可生产多个抽象产品     |
|        | 一个具体工厂只生产一个具体产品   | 一个具体工厂可生产多个具体产品     |
|        | 不同的工厂实例创建不同的产品实例 | 不同的工厂实例创建不同的产品族实例 |
| 相同点 | 一个抽象工厂可派生出多个具体工厂 | ~                                  |
|        | 一个抽象产品可派生出多个具体产品 | ~                                  |



## 引用

- [^1]: [产品族和产品等级结构 - 简书 (jianshu.com)](https://www.jianshu.com/p/f1e837cab952)

- [^2]: [工厂三兄弟之抽象工厂模式（二）_刘伟技术博客-CSDN博客](https://blog.csdn.net/lovelion/article/details/9319323)

